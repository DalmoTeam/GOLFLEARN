<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.golflearn.mapper.LessonMapper">
<resultMap id="lessonsMap" type="Lesson" autoMapping="true">
	<id property="lsnNo" column="lsn_no"/>
	<association property="userInfo" javaType="UserInfo">
	    <id property="userId" column="user_id"/>
	    <result property="userName" column="user_name"/>
  	</association>
</resultMap>
<select id="selectAll" resultMap="lessonsMap">
	SELECT lsn_no, loc_no, lsn_title, lsn_star_sum, lsn_star_ppl_cnt, ui.user_name
	FROM lesson l JOIN user_info ui ON(l.user_id = ui.user_id)
	ORDER BY 1 DESC
</select>
</mapper>